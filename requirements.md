# 保育士業務支援アプリ 要件定義

## プロジェクト概要
保育士の日常業務を効率化するWebアプリケーション。React/Next.jsで開発。

## 対象ユーザー
- 特定の保育園に勤務する保育士
- 主にスマートフォンでの利用
- 忙しい業務の隙間時間での利用を想定

## 主要機能（優先順位順）

### 1. メール文作成機能（最優先）
- **目的**: 保護者向け日常報告メールの作成
- **対象クラス**: こあら組、くま組、きりん組
- **入力**: キーワードまたは文章
- **出力**: 3パターンの文章を生成
- **文体**: 丁寧で親しみやすく、保護者に安心感を与える文章
- **特徴**: 
  - クラス全体の様子をイメージできる内容（特定の園児名は含まない）
  - 日付不要（当日の出来事中心）
  - ワンタップコピー機能

### 2. 保育日誌作成機能（最優先）
- **目的**: 園内記録用の日誌作成
- **入力**: メール文作成と同様（キーワードまたは文章）
- **出力**: 3パターンの文章を生成
- **文体**: 「〜した」調の記録文体
- **特徴**: 
  - クラス全体の活動記録（特定の園児名は含まない）
  - メール文より長めの文章
  - ワンタップコピー機能

### 3. 児童票作成機能（次優先）
- **目的**: 園児一人ひとりの成長記録
- **入力項目**: 6項目（養護、健康、人間関係、環境、言葉、表現）
- **更新頻度**: 4〜6ヶ月ごと
- **データ管理**: 履歴として蓄積（上書きではなく新規作成）
- **アクセス制御**: 担当クラスの園児のみアクセス可能

## 技術仕様

### フロントエンド
- **フレームワーク**: React + Next.js
- **レスポンシブ**: スマートフォンメイン
- **音声入力**: Web Speech API（実装可能であれば）

### バックエンド・データベース
- **データベース**: Supabase
- **AI機能**: OpenAI API
- **認証**: メール・パスワード認証

### データ構造
- **ユーザー**: 保育士情報、担当クラス
- **クラス**: こあら組、くま組、きりん組（固定、将来的に追加可能）
- **園児**: 名前、所属クラス
- **生成履歴**: AI生成文章の履歴
- **児童票**: 園児別の成長記録履歴

## UI/UX設計

### 基本方針
- **シンプル・直感的**: 忙しい保育士でも迷わず使える
- **最小限のナビゲーション**: TOP/LP → ログイン → ダッシュボード(メニュー) → 各機能

### 画面構成
1. **TOP/LP画面**: アプリ紹介とログイン導線
2. **ログイン画面**: メール・パスワード認証
3. **ダッシュボード画面**: 機能選択（シンプルなボタン/カード）
4. **各機能画面**: 入力 → AI生成 → コピー

### 入力UI
- **キーワード選択**: よく使うキーワードをタップで入力
- **自由入力**: テキストエリアでの文章入力
- **音声入力**: 音声認識での入力（技術的に可能であれば）

### 出力UI
- **3パターン表示**: 並列表示でスクロール比較可能
- **ワンタップコピー**: 各パターンにコピーボタン
- **使用フロー**: 見比べ → 選択 → コピー → 外部アプリでペースト

## 開発フェーズ

### Phase 1: 基盤構築
1. 認証システム構築
2. ユーザー・クラス・園児管理
3. 基本UI/UXフレームワーク

### Phase 2: 主要機能実装
1. メール文作成機能
2. 保育日誌作成機能
3. OpenAI API連携

### Phase 3: 追加機能
1. 児童票作成機能
2. 音声入力機能
3. パフォーマンス最適化

## ユーザー管理方式（決定済み）

### セルフ管理方式を採用
- **登録時**: 担当クラスを選択
- **変更**: 設定画面で後から変更可能
- **安全策**: 
  - 他クラスデータアクセス時の確認ダイアログ
  - UI上での現在担当クラス明確表示
  - アクセス履歴の記録

## 後回し機能（言及された機能）

### 保育士勤務シフト作成機能
- シフト管理・作成支援機能
- 複数保育士での同時利用を想定

### 遊びの提供作成機能
- 年齢別・季節別の遊び提案機能
- AI活用による遊びのアイデア生成

### 発表会案およびストーリー提案機能
- 発表会の企画・ストーリー作成支援
- 配役機能も含む
- 複数人での共有・編集機能

## 非機能要件

### パフォーマンス
- スマートフォンでの快適な操作
- AI生成の応答時間最適化（3秒以内を目標）
- オフライン時の基本機能利用可能性

### セキュリティ
- 個人情報保護（園児情報、保育記録）
- HTTPS通信必須
- セッション管理とタイムアウト設定
- データ暗号化（保存時・通信時）

### 運用・保守
- エラーログ収集機能
- 定期バックアップ機能
- アプリケーション監視
- 利用統計収集（プライバシー配慮）

### 互換性
- 主要ブラウザ対応（Chrome、Safari、Edge）
- iOS Safari、Android Chrome対応
- レスポンシブデザイン（320px〜1920px）

## データ保持・削除ポリシー

### 個人情報の取り扱い
- 園児情報：在園中＋卒園後1年間保持
- 保育士情報：退職後6ヶ月間保持
- 生成履歴：作成から2年間保持

### AI生成データ
- OpenAI APIとの通信ログは保持しない
- 生成結果のみ履歴として保存
- ユーザーによる履歴削除機能提供

## 制約・前提条件

### 技術的制約
- モバイルファーストデザイン
- PWA化は検討段階
- プッシュ通知は現時点で不要

### 業務的制約
- 園の既存システムとの連携は不要
- メール送信機能は不要（コピー&ペーストで対応）
- 印刷機能は現時点で不要

### その他検討事項
- 複数クラス担当の保育士への対応
- データのバックアップ・エクスポート機能の必要性
- 利用統計・分析機能の必要性
- 多言語対応の必要性